@*
    For more information on enabling MVC for empty projects, visit https://go.microsoft.com/fwlink/?LinkID=397860
  
*@

@section scripts {
    <abp-script-bundle>
        <abp-script src="/client-proxies/cms-kit-admin-proxy.js" />
        <abp-script src="/client-proxies/cms-kit-common-proxy.js" />
        @* <abp-script src="" /> *@
        <script src="/Components/CommentsSetting/index.js"></script>
    </abp-script-bundle>
}
@{
    // <p>sdf</p>
    // <input type="checkbox" id="checkbox" />
    // <button id="save">Save</button>
    <abp-form #form="ngForm">
        <h4>Checkbox Ayarları</h4>
        <hr />
        <div class="form-group">
            <div class="form-check">
                <input type="checkbox" id="checkbox" class="form-check-input" name="checkbox" ngModel />
                <label for="checkbox" class="form-check-label">Açıklama:</label>
            </div>
            <small id="checkboxHelp" class="form-text text-muted">Checkbox açıklama metni buraya gelecek.</small>
        </div>

        <div style="float:right" class="text-right mt-3">
            <abp-button id="save" type="submit" class="btn btn-primary">
                Kaydet
            </abp-button>
        </div>
    </abp-form>



}
@* <script>
    var service = volo.cmsKit.admin.comments.commentAdmin;

    $(document).ready(function () {
        service.getSettings().done(function (response) {
            var isChecked = response.requireApprovement
            $('#checkbox').prop('checked', isChecked);
            console.log('CheckBox durumu başarıyla güncellendi:', response.requireApprovement);
        }).fail(function (error) {
            console.error('CheckBox durumu alınırken bir hata oluştu:', error);
        });

        $('#save').click(function () {
            var isChecked = $('#checkbox').prop('checked');

            service.setSettings({ RequireApprovement: isChecked }).done(function (response) {
                console.log('CheckBox durumu başarıyla güncellendi:', response);
                alert('CheckBox durumu başarıyla kaydedildi.');
            }).fail(function (error) {
                console.error('CheckBox durumu güncellenirken bir hata oluştu:', error);
                alert('CheckBox durumu kaydedilirken bir hata oluştu.');
            });
        });
    });
</script> *@
@* <script>
    var _service = volo.cmsKit.admin.comments.commentAdmin;
    $(document).ready(function () {
        _service.getSettings().done(function (response) {
            var isChecked = response.requireApprovement;
            $('#checkbox').prop('checked', isChecked);
            console.log('CheckBox durumu başarıyla güncellendi:', response.requireApprovement);
        }).fail(function (error) {
            console.error('CheckBox durumu alınırken bir hata oluştu:', error);
        });
        $('#save').click(function () {
            var isChecked = $('#checkbox').prop('checked');

            _service.setSettings({ requireApprovement: isChecked }).done(function (response) {
                console.log('CheckBox durumu başarıyla güncellendi:', response);
                abp.notify.success('CheckBox durumu başarıyla kaydedildi.');
            }).fail(function (error) {
                console.error('CheckBox durumu güncellenirken bir hata oluştu:', error);
                abp.notify.error('CheckBox durumu kaydedilirken bir hata oluştu.');
            });
        });
    })
</script> *@
<script>
    var app = app || {};

    app.commentAdmin = (function () {
        var _service = volo.cmsKit.admin.comments.commentAdmin;

        var _init = function () {
            _getSettings();
            _bindEvents();
        };

        var _getSettings = function () {
            _service.getSettings().done(function (response) {
                var isChecked = response.requireApprovement;
                $('#checkbox').prop('checked', isChecked);
                console.log('CheckBox durumu başarıyla güncellendii:', response.requireApprovement);
            }).fail(function (error) {
                console.error('CheckBox durumu alınırken bir hata oluştu:', error);
            });
        };

        var _bindEvents = function () {
            $('#save').click(function () {
                var isChecked = $('#checkbox').prop('checked');

                _service.setSettings({ requireApprovement: isChecked }).done(function (response) {
                    console.log('CheckBox durumu başarıyla güncellendi:', response);
                    abp.notify.success('CheckBox durumu başarıyla kaydedildi.');
                }).fail(function (error) {
                    console.error('CheckBox durumu güncellenirken bir hata oluştu:', error);
                    abp.notify.error('CheckBox durumu kaydedilirken bir hata oluştu.');
                });
            });
        };

        return {
            init: _init
        };
    })();

    $(document).ready(function () {
        app.commentAdmin.init();
    });

</script>